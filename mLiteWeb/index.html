<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>mLite Web</title>
<link href="style.css" rel="stylesheet"/>
</head>
<body>
  <div class="header">
    <div class="logo">mLite Web</div>
    <button class="license-btn" id="licenseBtn">üîí Get License</button>

    <div class="menu-container hidden" id="menuContainer">
      <button aria-label="Menu" class="menu-toggle" id="menuToggle">
        <div class="menu-icon">
          <span></span><span></span><span></span>
        </div>
      </button>

      <div class="menu-items" id="menuItems">
        <label class="menu-btn" for="mliteFile" id="btnImportMl">
          <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16l4-4h10a2 2 0 0 0 2-2V8z"></path><path d="M14 2v6h6"></path></svg>
          <input accept=".mlite,application/json" id="mliteFile" type="file" accept=".mlite,.json,application/json,text/plain,application/octet-stream"/>
          <span>Import .mlite</span>
        </label>

        <label class="menu-btn disabled" data-disabled="true" id="btnImportShot">
          <svg viewBox="0 0 24 24"><path d="M4 7h4l2-3h4l2 3h4v12H4z"></path><path d="M12 10v6M9 13h6"></path></svg>
          <input accept="image/*" disabled id="shotFile" type="file"/>
          <span>Import Screenshot</span>
        </label>

        <div class="screenshot-manager" id="screenshotManager">
          <div class="screenshot-header">
            <span>Screenshots</span>
            <button class="add-screenshot-btn disabled" disabled id="addScreenshotBtn">
              <svg viewBox="0 0 24 24"><path d="M12 5v14M5 12h14"></path></svg>
            </button>
          </div>
          <div class="screenshot-list" id="screenshotList"></div>
        </div>

        <div class="menu-btn-group disabled" data-disabled="true" id="logoButtonGroup">
          <label class="menu-btn-main" for="logoFile" id="btnImportLogo">
            <svg viewBox="0 0 24 24"><path d="M18 21v-2a4 4 0 0 0-4-4H10a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle><path d="M16 3h5v5"></path></svg>
            <input accept="image/*" disabled id="logoFile" type="file"/>
            <span>Import Logo</span>
          </label>
          <button class="menu-btn-settings" id="btnLogoSettings" style="display:none;">
            <svg viewBox="0 0 24 24"><path d="M12 8v8M8 12h8"></path><circle cx="12" cy="12" r="10"></circle></svg>
          </button>
        </div>

        <label class="menu-btn" for="templateFile" id="btnImportTemplate">
          <svg viewBox="0 0 24 24"><path d="M12 5v14M5 12h14"></path><path d="M4 19h16a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H9l-5 5v8a1 1 0 0 0 1 1z"></path></svg>
          <input accept="image/png" id="templateFile" type="file"/>
          <span>Import Template</span>
        </label>

        <button class="menu-btn disabled" disabled id="saveBtn">
          <svg viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><path d="M7 10l5-5 5 5"></path><path d="M12 15V5"></path></svg>
          <span>Save Mockup Image</span>
        </button>

        <button class="menu-btn disabled" disabled id="exportMlBtn">
          <svg viewBox="0 0 24 24"><path d="M12 5v10m0 0l-4-4m4 4 4-4M5 19h14"></path></svg>
          <span>Export .mlite</span>
        </button>

        <button class="menu-btn" id="websiteBtn">
          <svg viewBox="0 0 24 24"><path d="M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18z"></path><path d="M3 12h18"></path><path d="M12 3c2.5 2.7 4 6 4 9s-1.5 6.3-4 9m0-18c-2.5 2.7-4 6-4 9s1.5 6.3 4 9"></path></svg>
          <span>showcreative.co.uk</span>
        </button>
      </div>

      <!-- Logo Settings Panel -->
      <div class="logo-settings-panel" id="logoSettingsPanel">
        <div class="logo-settings-header">
          <span>Logo Settings</span>
          <button class="logo-settings-close" id="btnCloseLogoSettings">
            <svg viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12"></path></svg>
          </button>
        </div>
        
        <div class="logo-position-group">
          <span class="settings-label">Position</span>
          <div class="logo-position-buttons">
            <button class="position-btn" data-position="bottom-left" title="Bottom Left">
              <svg viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"/><rect x="4" y="14" width="6" height="6" fill="currentColor"/></svg>
            </button>
            <button class="position-btn" data-position="top-left" title="Top Left">
              <svg viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"/><rect x="4" y="4" width="6" height="6" fill="currentColor"/></svg>
            </button>
            <button class="position-btn" data-position="top-right" title="Top Right">
              <svg viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"/><rect x="14" y="4" width="6" height="6" fill="currentColor"/></svg>
            </button>
            <button class="position-btn" data-position="bottom-right" title="Bottom Right">
              <svg viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"/><rect x="14" y="14" width="6" height="6" fill="currentColor"/></svg>
            </button>
          </div>
        </div>
        
        <div class="logo-setting-row">
          <span class="settings-label">Scale</span>
          <input type="range" id="logoScaleSlider" min="0.5" max="2" step="0.1" value="1" class="settings-slider"/>
          <span class="slider-value" id="logoScaleValue">1.0</span>
        </div>
        
        <!--
        <div class="logo-setting-row">
          <span class="settings-label">Opacity</span>
          <input type="range" id="logoOpacitySlider" min="0" max="1" step="0.05" value="1" class="settings-slider"/>
          <span class="slider-value" id="logoOpacityValue">100%</span>
        </div>
        -->

        <div class="logo-setting-row">
          <span class="settings-label">Radius</span>
          <input type="range" id="logoRadiusSlider" min="0" max="300" step="1" value="0" class="settings-slider"/>
          <span class="slider-value" id="logoRadiusValue">0px</span>
        </div>
      </div>
      <!-- end logo-settings-panel -->

    </div> <!-- end .menu-container -->
  </div> <!-- end .header -->

  <div class="canvas-container" id="canvasContainer">
    <div class="mockup-showcase" id="mockupShowcase">
      <div class="mockup-track" id="mockupTrack"></div>
    </div>

    <!-- Drag and Drop Zones -->
    <div class="drop-zones" id="dropZones">
      <div class="drop-zone" data-type="mlite" id="dropZoneMlite">
        <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16l4-4h10a2 2 0 0 0 2-2V8z"></path><path d="M14 2v6h6"></path></svg>
        <span class="drop-zone-title">mLite File</span>
        <span class="drop-zone-hint">.mlite file</span>
      </div>
      <div class="drop-zone" data-type="template" id="dropZoneTemplate">
        <svg viewBox="0 0 24 24"><path d="M12 5v14M5 12h14"></path><path d="M4 19h16a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H9l-5 5v8a1 1 0 0 0 1 1z"></path></svg>
        <span class="drop-zone-title">Template</span>
        <span class="drop-zone-hint">PNG image</span>
      </div>
      <div class="drop-zone-group" id="dropZoneScreenshotGroup">
        <div class="drop-zone-group-title">Screenshots</div>
        <div class="drop-zone-grid">
          <div class="drop-zone screenshot-slot disabled" data-type="screenshot" data-slot="0" id="dropZoneScreenshot1">
            <span class="slot-number">1</span>
            <span class="slot-status">Empty</span>
          </div>
          <div class="drop-zone screenshot-slot disabled" data-type="screenshot" data-slot="1" id="dropZoneScreenshot2">
            <span class="slot-number">2</span>
            <span class="slot-status">Empty</span>
          </div>
          <div class="drop-zone screenshot-slot disabled" data-type="screenshot" data-slot="2" id="dropZoneScreenshot3">
            <span class="slot-number">3</span>
            <span class="slot-status">Empty</span>
          </div>
          <div class="drop-zone screenshot-slot disabled" data-type="screenshot" data-slot="3" id="dropZoneScreenshot4">
            <span class="slot-number">4</span>
            <span class="slot-status">Empty</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Zoom UI (positioned over the canvas) -->
    <div class="zoom-ui" id="zoomUI" aria-label="Zoom controls">
      <span class="zoom-glyph" aria-hidden="true">üîç</span>
      <input id="zoomSlider" type="range" min="1" max="4" step="0.01" value="1" aria-label="Zoom level"/>
      <span class="zoom-value" id="zoomValue" aria-live="polite">1.00√ó</span>
    </div>

    <div class="license-panel">
      <div class="license-card" id="licenseCard">
        <div class="license-title">Activate License</div>
        <div class="license-sub">Enter your license key to remove watermarks and unlock full features.</div>
        <div class="license-row">
          <input class="license-input" id="licenseInput" maxlength="39" placeholder="XXXXXXXX-XXXXXXXX-XXXXXXXX-XXXXXXXX" type="text"/>
          <button class="modal-btn secondary" id="purchaseBtn">Purchase</button>
          <button class="modal-btn primary" id="activateBtn">Activate</button>
        </div>
      </div>
    </div>

    <div class="empty-state" id="emptyState">
      <h2>Welcome to mLite Web</h2>
      <p class="subtitle">Super Simple Mockups</p>
      <p>‚Ä¢ Import a mLite file using the Menu<br/>‚Ä¢ Import a screenshot and save to your desktop<br/>‚Ä¢ Or simply drag & drop files directly here!</p>
      <p>‚Ä¢ mLite files can be found on Telegram<br/>‚Ä¢ Visit telegram via link in the menu</p>
      <p>‚Ä¢ Import a Template and Screenshot<br/>‚Ä¢ Toggle Edit to drag blue corner dots<br/>‚Ä¢ Double click to Zoom & Reset<br/>‚Ä¢ Export image or mLite file</p>
      <div class="license-notice" id="licenseNotice">üîí License required to render and export images</div>
    </div>

    <canvas id="canvas" width="1024" height="1024"></canvas>
  </div>

  <div class="action-buttons">
    <button aria-label="Edit" class="action-btn" disabled id="editBtn" title="Toggle Edit (E)">
      <svg id="editIcon" viewBox="0 0 24 24"><path d="M12 20h9"></path><path d="M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4Z"></path></svg>
    </button>
    <button aria-label="Community" class="action-btn" id="browseBtn" title="Community">
      <svg viewBox="0 0 24 24"><path d="M21.5 3.5L2.6 10.2c-.9.3-.9 1.5.1 1.8l4.8 1.5 1.8 5.7c.3.9 1.5 1 1.9.1l2.7-4.6 4.9 3.6c.8.6 1.9.1 2.1-.8l3.1-13.7c.2-.9-.7-1.7-1.6-1.4zM8.3 13.1l9.6-6.2-7.8 7.5-.5 3.2-1.3-4.5z"></path></svg>
    </button>
  </div>

  <div class="status-toast idle" id="statusToast">Ready</div>
  <div class="error-container" id="errorContainer"></div>

  <footer class="footer">
    <p>¬© <span id="currentYear"></span> <a href="https://showcreative.co.uk" target="_blank">ShowCreative</a> ‚Ä¢ Made with mLite</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
